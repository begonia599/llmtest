# 第七轮测试报告：2 核限制，混合流量（50% 流式，300-1300 虚拟用户）

> 运行编号：`fair-20260214-103949`
> 场景：`50% 流式 + 50% 非流式`，`120 秒`，`1000 凭证`
> 约束：网关进程固定到 `CPU 0,1`；Go 设置 `GOMAXPROCS=2`
> 稳定门槛：`成功率 >= 99.5%`、`P95 <= 15000ms`、`中断率 <= 1%`

## 分档通过率

| 网关 | 300 | 500 | 700 | 900 | 1100 | 1300 |
|------|---:|---:|---:|---:|---:|---:|
| Go | 100% | 100% | 100% | 100% | 0% | 0% |
| Node.js | 100% | 100% | 60% | 0% | 0% | 0% |
| Next.js | 100% | 0% | 0% | 0% | 0% | 0% |

## 分档性能（均值）

| 虚拟用户数（VU） | Go RPS | Node RPS | Next RPS | Go P95 (ms) | Node P95 (ms) | Next P95 (ms) | Go 成功率 (%) | Node 成功率 (%) | Next 成功率 (%) |
|----:|----:|----:|----:|----:|----:|----:|----:|----:|----:|
| 300 | 56.72 | 57.01 | 55.29 | 14468.66 | 14286.86 | 14582.32 | 100.00 | 100.00 | 100.00 |
| 500 | 94.85 | 91.21 | 78.04 | 14376.98 | 14576.07 | 15812.68 | 100.00 | 100.00 | 100.00 |
| 700 | 130.67 | 119.39 | 88.41 | 14415.15 | 14999.58 | 17159.89 | 100.00 | 100.00 | 100.00 |
| 900 | 166.23 | 136.75 | 85.45 | 14500.73 | 15920.13 | 19486.67 | 100.00 | 100.00 | 98.34 |
| 1100 | 183.04 | 141.42 | 85.89 | 15574.13 | 16816.53 | 43291.73 | 100.00 | 99.95 | 96.60 |
| 1300 | 187.11 | 150.98 | 90.86 | 17641.44 | 17313.11 | 86151.04 | 100.00 | 99.27 | 95.53 |

## 稳定性判定结果

| 网关 | 最大稳定虚拟用户数（VU） | 对应稳定 RPS |
|------|---:|---:|
| Go | **900** | **166.23** |
| Node.js | 500 | 91.21 |
| Next.js | 300 | 55.29 |

## 分档硬件占比（均值）

| 虚拟用户数（VU） | Go CPU峰值 (%) | Node CPU峰值 (%) | Next CPU峰值 (%) | Go 内存峰值 (MB) | Node 内存峰值 (MB) | Next 内存峰值 (MB) |
|----:|----:|----:|----:|----:|----:|----:|
| 300 | 9.29 | 15.99 | 21.98 | 565.06 | 218.95 | 451.87 |
| 500 | 13.41 | 21.74 | 23.35 | 904.75 | 273.36 | 578.23 |
| 700 | 18.06 | 22.10 | 23.40 | 1260.00 | 314.18 | 672.42 |
| 900 | 23.19 | 22.54 | 23.11 | 1583.93 | 355.51 | 676.22 |
| 1100 | 29.65 | 22.88 | 23.43 | 1924.20 | 387.78 | 662.73 |
| 1300 | 34.05 | 22.63 | 23.43 | 2280.52 | 398.15 | 682.73 |

## 第七轮结论

- 在 50% 混合流量下，Go 的稳定并发上限最高（900 VU）。
- Node.js 单位资源效率仍高，但稳定门槛在 700 VU 开始明显掉档。
- Next.js 在该门槛下只在 300 VU 通过，之后主要受 P95 和成功率约束。

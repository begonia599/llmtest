# 第十轮测试报告：2 核限制，混合流量（50% 流式，1000-5000 虚拟用户）

> 运行编号：`fair-20260215-003202`
> 场景：`50% 流式 + 50% 非流式`，`120 秒`，`1000 凭证`
> 约束：网关进程固定到 `CPU 0,1`；Go 设置 `GOMAXPROCS=2`
> 稳定门槛：`成功率 >= 99.5%`、`P95 <= 15000ms`、`中断率 <= 1%`

## 分档通过率

| 网关 | 1000 | 1500 | 2000 | 2500 | 3000 | 3500 | 4000 | 4500 | 5000 |
|------|---:|---:|---:|---:|---:|---:|---:|---:|---:|
| Go | 100% | 0% | 0% | 0% | 0% | 0% | 0% | 0% | 0% |
| Node.js | 0% | 0% | 0% | 0% | 0% | 0% | 0% | 0% | 0% |
| Next.js | 0% | 0% | 0% | 0% | 0% | 0% | 0% | 0% | 0% |

## 分档性能（均值）

| 虚拟用户数（VU） | Go RPS | Node RPS | Next RPS | Go P95 (ms) | Node P95 (ms) | Next P95 (ms) | Go 成功率 (%) | Node 成功率 (%) | Next 成功率 (%) |
|----:|----:|----:|----:|----:|----:|----:|----:|----:|----:|
| 1000 | 179.83 | 145.71 | 90.90 | 14752.27 | 16149.70 | 20304.94 | 100.00 | 100.00 | 97.94 |
| 1500 | 198.68 | 154.14 | 95.73 | 18729.52 | 18574.66 | 107941.03 | 100.00 | 98.57 | 94.49 |
| 2000 | 193.45 | 159.88 | 106.08 | 23929.51 | 43981.80 | 103444.55 | 100.00 | 96.44 | 89.73 |
| 2500 | 190.07 | 156.83 | 104.27 | 30085.62 | 104458.79 | 95667.52 | 100.00 | 93.68 | 84.55 |
| 3000 | 176.83 | 160.01 | 101.64 | 35905.61 | 95495.84 | 112189.03 | 100.00 | 89.99 | 81.84 |
| 3500 | 178.60 | 167.67 | 109.06 | 40055.29 | 103771.66 | 119905.52 | 100.00 | 89.78 | 80.26 |
| 4000 | 179.24 | 170.70 | 122.99 | 43030.13 | 111332.72 | 111736.55 | 100.00 | 87.62 | 77.75 |
| 4500 | 183.90 | 180.06 | 135.90 | 44155.03 | 109515.64 | 95795.42 | 99.99 | 86.64 | 75.11 |
| 5000 | 184.47 | 197.11 | 134.40 | 48926.71 | 103722.10 | 119893.40 | 99.96 | 85.28 | 74.65 |

## 稳定性判定结果

| 网关 | 最大稳定虚拟用户数（VU） | 对应稳定 RPS |
|------|---:|---:|
| Go | **1000** | **179.83** |
| Node.js | 0 | 0 |
| Next.js | 0 | 0 |

## 分档硬件占比（均值）

| 虚拟用户数（VU） | Go CPU峰值 (%) | Node CPU峰值 (%) | Next CPU峰值 (%) | Go 内存峰值 (MB) | Node 内存峰值 (MB) | Next 内存峰值 (MB) |
|----:|----:|----:|----:|----:|----:|----:|
| 1000 | 25.74 | 22.68 | 23.28 | 1763.08 | 378.12 | 692.51 |
| 1500 | 36.60 | 22.96 | 23.79 | 2605.51 | 405.88 | 705.12 |
| 2000 | 39.20 | 22.83 | 23.69 | 3416.22 | 420.70 | 723.38 |
| 2500 | 39.65 | 22.73 | 23.32 | 3906.96 | 413.80 | 692.78 |
| 3000 | 39.75 | 22.44 | 23.45 | 4118.44 | 399.85 | 663.95 |
| 3500 | 39.50 | 22.64 | 23.17 | 4153.42 | 411.49 | 695.30 |
| 4000 | 39.55 | 22.85 | 23.38 | 4487.66 | 410.60 | 737.09 |
| 4500 | 39.80 | 22.88 | 23.33 | 4880.17 | 497.26 | 1053.92 |
| 5000 | 39.75 | 22.88 | 23.50 | 4679.74 | 492.28 | 749.76 |

## 第十轮结论

- 该轮结论与第五轮一致：严格门槛下，只有 Go 在 1000 VU 达标。
- Node.js 与 Next.js 的资源效率仍更高，但稳定门槛无法通过。
- 如果目标是“更高成功率 + 更可控尾延迟”，该场景仍优先 Go。
